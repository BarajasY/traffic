import{b as i,n as x,d as W,B as k,x as S,t as s,C as p,h as a}from"./web-b4f36f01.js";const[I,nt]=i({direction:"up",amount:0}),[g,T]=i(0),[y,at]=i({direction:"down",amount:0}),[v,F]=i(0),[M,ot]=i({direction:"left",amount:0}),[m,N]=i(0),[z,ct]=i({direction:"right",amount:0}),[$,E]=i(0);var X=S("<div>");const w=e=>(e.active,(()=>{var n=x(X);return W(t=>{var l=`stop-light ${e.direction}`,o=!!e.active,u=!e.active;return l!==t.e&&k(n,t.e=l),o!==t.t&&n.classList.toggle("active",t.t=o),u!==t.a&&n.classList.toggle("inactive",t.a=u),t},{e:void 0,t:void 0,a:void 0}),n})());function Y(e,n){return Math.floor(Math.random()*(n-e+1)+e)}var Z=S("<div>");const L=e=>{const n=e.direction==="down"||e.direction==="up"?"vertical":"horizontal";return(()=>{var t=x(Z);return k(t,`road ${n}`),s(t,()=>e.children),t})()};var tt=S("<div class=traffic-frame><div class=wrapper><div class=vertical-wrapper><!$><!/><!$><!/></div><div class=horizontal-wrapper><!$><!/><!$><!/>");const et=e=>{const[n,t]=i(!1),[l,o]=i(!1),[u,h]=i(!1),[C,R]=i(!1),[r,_]=i("up"),[d,f]=i(5e3);return setInterval(()=>{r()==="up"?(_("right"),t(!1),o(!1),h(!1),R(!0)):r()==="right"?(_("down"),t(!1),o(!0),h(!1),R(!1)):r()==="down"?(_("left"),t(!1),o(!1),h(!0),R(!1)):r()==="left"&&(_("up"),R(!1),t(!0),o(!1),h(!1)),f(1e4)},d()),setInterval(()=>{const c=Y(1,4);c===1&&(T(g()+1),r()==="left"&&f(d()+1e3)),c===2&&(F(v()+1),r()==="right"&&f(d()+1e3)),c===3&&(N(m()+1),r()==="down"&&f(d()+1e3)),c===4&&(E($()+1),r()==="up"&&f(d()+1e3))},600),setInterval(()=>{r()==="up"&&g()>0&&T(g()-1),r()==="right"&&$()>0&&E($()-1),r()==="down"&&v()>0&&F(v()-1),r()==="left"&&m()>0&&N(m()-1)},600),(()=>{var c=x(tt),B=c.firstChild,A=B.firstChild,H=A.firstChild,[D,j]=p(H.nextSibling),q=D.nextSibling,[G,J]=p(q.nextSibling),b=A.nextSibling,K=b.firstChild,[U,O]=p(K.nextSibling),P=U.nextSibling,[Q,V]=p(P.nextSibling);return s(A,a(L,{get direction(){return I().direction},get active(){return n()},get amount(){return g()},get children(){return a(w,{get direction(){return I().direction},get active(){return n()},get amount(){return g()}})}}),D,j),s(A,a(L,{get direction(){return y().direction},get active(){return l()},get amount(){return v()},get children(){return a(w,{get direction(){return y().direction},get active(){return l()},get amount(){return v()}})}}),G,J),s(b,a(L,{get direction(){return M().direction},get active(){return u()},get amount(){return m()},get children(){return a(w,{get direction(){return M().direction},get active(){return u()},get amount(){return m()}})}}),U,O),s(b,a(L,{get direction(){return z().direction},get active(){return C()},get amount(){return $()},get children(){return a(w,{get direction(){return z().direction},get active(){return C()},get amount(){return $()}})}}),Q,V),c})()};var it=S("<main>");function st(){return(()=>{var e=x(it);return s(e,a(et,{})),e})()}export{st as default};
