import{ssr as A,ssrHydrationKey as w,escape as n,createComponent as i}from"solid-js/web";import{createSignal as t}from"solid-js";const[y,E]=t({direction:"up",amount:0}),[s,I]=t(0),[T,G]=t({direction:"down",amount:0}),[u,F]=t(0),[_,J]=t({direction:"left",amount:0}),[d,C]=t(0),[S,N]=t({direction:"right",amount:0}),[f,z]=t(0);var H=["<div",' class="','"></div>'];const p=e=>(e.active,A(H,w(),`${`stop-light ${n(e.direction,!0)}`||""} ${e.active?"active":""} ${e.active?"":"inactive"}`));function M(e,o){return Math.floor(Math.random()*(o-e+1)+e)}var b=["<div",' class="','">',"</div>"];const $=e=>{const o=e.direction==="down"||e.direction==="up"?"vertical":"horizontal";return A(b,w(),`road ${n(o,!0)}`,n(e.children))};var x=["<div",' class="traffic-frame"><div class="wrapper"><div class="vertical-wrapper"><!--$-->',"<!--/--><!--$-->",'<!--/--></div><div class="horizontal-wrapper"><!--$-->',"<!--/--><!--$-->","<!--/--></div></div></div>"];const K=e=>{const[o,l]=t(!1),[L,v]=t(!1),[D,g]=t(!1),[U,m]=t(!1),[r,h]=t("up"),[a,c]=t(5e3);return setInterval(()=>{r()==="up"?(h("right"),l(!1),v(!1),g(!1),m(!0)):r()==="right"?(h("down"),l(!1),v(!0),g(!1),m(!1)):r()==="down"?(h("left"),l(!1),v(!1),g(!0),m(!1)):r()==="left"&&(h("up"),m(!1),l(!0),v(!1),g(!1)),c(1e4)},a()),setInterval(()=>{const R=M(1,4);R===1&&(I(s()+1),r()==="left"&&c(a()+1e3)),R===2&&(F(u()+1),r()==="right"&&c(a()+1e3)),R===3&&(C(d()+1),r()==="down"&&c(a()+1e3)),R===4&&(z(f()+1),r()==="up"&&c(a()+1e3))},600),setInterval(()=>{r()==="up"&&s()>0&&I(s()-1),r()==="right"&&f()>0&&z(f()-1),r()==="down"&&u()>0&&F(u()-1),r()==="left"&&d()>0&&C(d()-1)},600),A(x,w(),n(i($,{get direction(){return y().direction},get active(){return o()},get amount(){return s()},get children(){return i(p,{get direction(){return y().direction},get active(){return o()},get amount(){return s()}})}})),n(i($,{get direction(){return T().direction},get active(){return L()},get amount(){return u()},get children(){return i(p,{get direction(){return T().direction},get active(){return L()},get amount(){return u()}})}})),n(i($,{get direction(){return _().direction},get active(){return D()},get amount(){return d()},get children(){return i(p,{get direction(){return _().direction},get active(){return D()},get amount(){return d()}})}})),n(i($,{get direction(){return S().direction},get active(){return U()},get amount(){return f()},get children(){return i(p,{get direction(){return S().direction},get active(){return U()},get amount(){return f()}})}})))},j=K;var k=["<main",">","</main>"];function O(){return A(k,w(),n(i(j,{})))}export{O as default};
